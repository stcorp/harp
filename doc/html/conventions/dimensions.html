<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dimensions &mdash; HARP 1.26 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="next" title="Global attributes" href="global_attributes.html" />
    <link rel="prev" title="Data types" href="datatypes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HARP
          </a>
              <div class="version">
                1.26
              </div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Conventions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="datatypes.html">Data types</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="global_attributes.html">Global attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable_attributes.html">Variable attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable_names.html">Variable names</a></li>
<li class="toctree-l2"><a class="reference internal" href="axis_variables.html">Axis variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="categorical_variables.html">Categorical Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="datetime.html">Datetime values</a></li>
<li class="toctree-l2"><a class="reference internal" href="filenames.html">File naming</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf3.html">netCDF-3</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf4.html">HDF4</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf5.html">HDF5/netCDF-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatibility.html">Compatibility with other standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="collocation_result.html">Collocation result file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ingestions/index.html">Ingestion definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libharp.html">C library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../idl.html">IDL interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab.html">MATLAB interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../R.html">R interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">Command line tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HARP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Conventions</a></li>
      <li class="breadcrumb-item active">Dimensions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dimensions">
<h1>Dimensions</h1>
<p>HARP has strict rules regarding the dimensions of variables. Each dimension of a variable may be used to represent a
physical dimension (such as time, latitude, longitude, height, etcetera), or it may be used as an independent dimension.</p>
<p>Only dimension types supported by HARP can be used. These types are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">time</span></code></dt><dd><p>Temporal dimension; this is also the only appendable dimension.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vertical</span></code></dt><dd><p>Vertical dimension, indicating height or depth.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spectral</span></code></dt><dd><p>Spectral dimension, associated with wavelength, wavenumber, or frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">latitude</span></code></dt><dd><p>Latitude dimension, only to be used for the latitude axis of a regular latitude x longitude grid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">longitude</span></code></dt><dd><p>Longitude dimension, only to be used for the longitude axis of a regular latitude x longitude grid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">independent</span></code></dt><dd><p>Independent dimension, used to index other quantities, such as the corner coordinates of ground pixel polygons.</p>
</dd>
</dl>
<p>Within a HARP product, all dimensions of the same type should have the same length, <em>except</em> independent dimensions. For
example, it is an error to have two variables within the same product that both have a time dimension, yet of a
different length.</p>
<p>A variable with more than one dimension has to use a fixed ordering of the dimensions. In the HARP documentation the
ordering is always documented using the so-called ‘C convention’ for dimension ordering. Using the C convention, the
last dimension (writing from left to right) is the fastest running dimension when enumerating all elements, compared to
the Fortran convention, where the first dimension is the fastest running dimension. Note that different file access
libraries may have different conventions with regard to how they deal with array ordering in their function interfaces.</p>
<p>The order in which dimensions need to be provided for a variable is defined by the following rules:</p>
<blockquote>
<div><ul class="simple">
<li><p>If present, the <code class="docutils literal notranslate"><span class="pre">time</span></code> dimension is always the first (i.e. slowest running) dimension.</p></li>
<li><p>Next are categorical dimensions used for grouping. For instance, this can be the <code class="docutils literal notranslate"><span class="pre">spectral</span></code> dimension when it is
used to distinguish between retrievals performed using different choices of wavelength, or to distinguish data from
different spectral bands.</p></li>
<li><p>Next are the spatial dimensions, ordered as <code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">longitude</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical</span></code>.</p></li>
<li><p>Next is the <code class="docutils literal notranslate"><span class="pre">spectral</span></code> dimension when it is used as an actual axis (e.g. for L1 spectral data for instruments that
measure along a spectral axis).</p></li>
<li><p>Any independent dimensions come last (i.e. they will always be the fastest running dimensions).</p></li>
</ul>
</div></blockquote>
<p>So, for a spectral axis used for grouping, the ordering should be:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">time</span></code>, <code class="docutils literal notranslate"><span class="pre">spectral</span></code>, <code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">longitude</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical</span></code>, <code class="docutils literal notranslate"><span class="pre">independent</span></code></p>
</div></blockquote>
<p>And, for a spectral axis used for L1 data from spectral instruments, the ordering should be:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">time</span></code>, <code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">longitude</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical</span></code>, <code class="docutils literal notranslate"><span class="pre">spectral</span></code>, <code class="docutils literal notranslate"><span class="pre">independent</span></code></p>
</div></blockquote>
<p>A variable should only use dimensions on which it is dependent. This means that the radiance variable for L1 data of a
nadir looking spectral instrument on a satellite will generally only have the dimensions <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">spectral</span></code> (and
not <code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">longitude</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical</span></code>, or <code class="docutils literal notranslate"><span class="pre">independent</span></code>).</p>
<p>Note that only a single grid can be used for each type of dimension per time value. This means that, for example, it is
possible to change the vertical grid from sample to sample, but it is not possible to use different vertical grids
for the <em>same</em> sample.</p>
<p>To allow a different vertical grid from sample to sample, the <code class="docutils literal notranslate"><span class="pre">altitude</span></code> variable should have dimensions
<code class="docutils literal notranslate"><span class="pre">{time,vertical}</span></code> (instead of <code class="docutils literal notranslate"><span class="pre">{vertical}</span></code>). This way, the altitude values for the first sample, <code class="docutils literal notranslate"><span class="pre">altitude[0,:]</span></code>,
may differ from the altitude values for the second sample, <code class="docutils literal notranslate"><span class="pre">altitude[1,:]</span></code>, and so on. However, for an averaging
kernel, which has dimensions <code class="docutils literal notranslate"><span class="pre">{time,vertical,vertical}</span></code>, the altitude values for both vertical dimensions are
necessarily the same for each single sample.</p>
<p>A grid that differs from sample to sample could have a different effective length per sample. This is implemented by
taking the maximum length over all samples as the length of the dimension and padding the dimension for each sample at
the end with fill values (<code class="docutils literal notranslate"><span class="pre">NaN</span></code> for floating point values, <code class="docutils literal notranslate"><span class="pre">0</span></code> for integers, and empty strings for string values).
For instance, you can have an <code class="docutils literal notranslate"><span class="pre">altitude{time,vertical}</span></code> variable where <code class="docutils literal notranslate"><span class="pre">altitude[0,:]</span></code> has 7 levels and equals
<code class="docutils literal notranslate"><span class="pre">[0.0,</span> <span class="pre">5.0,</span> <span class="pre">10.0,</span> <span class="pre">15.0,</span> <span class="pre">20.0,</span> <span class="pre">25.0,</span> <span class="pre">30.0]</span></code> and <code class="docutils literal notranslate"><span class="pre">altitude[1,:]</span></code> has only 6 levels and equals
<code class="docutils literal notranslate"><span class="pre">[0.0,</span> <span class="pre">6.0,</span> <span class="pre">12.0,</span> <span class="pre">18.0,</span> <span class="pre">24.0,</span> <span class="pre">30.0,</span> <span class="pre">NaN]</span></code>.</p>
<p>Operations performed by HARP will determine the effective length of a dimension for each sample by ignoring all trailing
<code class="docutils literal notranslate"><span class="pre">NaN</span></code> values of the axis variable that is used for the operation (e.g. the <code class="docutils literal notranslate"><span class="pre">altitude</span></code> or <code class="docutils literal notranslate"><span class="pre">pressure</span></code> variable for a
vertical dimension or the <code class="docutils literal notranslate"><span class="pre">wavelength</span></code> or <code class="docutils literal notranslate"><span class="pre">wavenumber</span></code> variable for a spectral dimension). Axis variables should
therefore always use floating point values.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datatypes.html" class="btn btn-neutral float-left" title="Data types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="global_attributes.html" class="btn btn-neutral float-right" title="Global attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2025 S[&amp;]T, The Netherlands.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>